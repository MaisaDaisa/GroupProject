{% extends 'base.html' %}

{% block content %}
  <div class="filters">
    <form action="{{ url_for('index') }}" method="get">
      <label for="year">Year:</label>
      <select name="year" id="year">
        <option value="">All</option>
        {% for year in years %}
          <option value="{{ year }}">{{ year }}</option>
        {% endfor %}
      </select>

      <label for="genre">Genre:</label>
      <select name="genre" id="genre">
        <option value="">All</option>
        {% for genre in movies %}
          <option value="{{ genre }}">{{ genre }}</option>
        {% endfor %}
      </select>

      <button type="submit">Filter</button>
    </form>
  </div>

  <hr>

  <ul class="movies">
    {% for movie in movies %}
      <li>
        <a href="/movies/{{ movie.id }}">
          <img src="/static/movie_pictures/{{ movie.id }}.jpg" alt="{{ movie.title }}" style="width: 200px; height: 300px;">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.genre }} - {{ movie.year }}</p>
        </a>
      </li>
    {% endfor %}
  </ul>
{% endblock %}